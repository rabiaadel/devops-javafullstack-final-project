cd Terraform

terraform init

terraform validate

terraform plan

terraform apply -auto-approve



aws eks update-kubeconfig --region us-east-1 --name development-blogging-eks-cluster

kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/aws/deploy.yaml

kubectl get service ingress-nginx-controller -n ingress-nginx




kubectl create namespace argocd

kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml

kubectl patch svc argocd-server -n argocd -p '{"spec": {"type": "LoadBalancer"}}'

kubectl get svc argocd-server -n argocd 

kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d; echo

cd ../Helm

helm init

helm install --dry-run --debug blogging-stack

helm upgrade --install blogging-stack 

helm uninstall blogging-stack


cd ../Terraform

kubectl delete service ingress-nginx-controller -n ingress-nginx
kubectl delete service argocd-server -n argocd

terraform destroy -auto-approve